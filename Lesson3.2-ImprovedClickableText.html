<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Improved Selectable Text</title>
    <style type="text/css" media="screen">

    .active{
      color: red
    }

    .inactive{
      color: green
    }

    </style>
</head>

<body>

<p id="document">
    <!--
    <span id="1">Lorem</span>
    <span id="2">ipsum</span>
    <span id="3">dolor</span>
    -->
</p>

<script>

function myOnClick(e) {
  if (e.srcElement.id === "document") {
    // TODO: fix mouse selection
    return;
  }

  if (e.srcElement.className === 'active'){
    console.log("Elem #"+e.srcElement.id+" inactive");
    e.srcElement.className = 'inactive';
  } else {
    console.log("Elem #"+e.srcElement.id+" active");
    e.srcElement.className = 'active';
  }
}

let doc = document.getElementById("document");
doc.addEventListener('click', myOnClick);

let text = ["Lorem", "ipsum", "dolor", "sit", "amet", ",", "consectetur", "adipiscing", "elit", ",", "sed", "do"];

var idx = 10;

for (const word of text) {
  let span = document.createElement('span');
  span.innerHTML = word;
  span.id = idx++;

  doc.appendChild(span);
  doc.appendChild(document.createTextNode(" "));
}

</script>
</body>
</html>
