<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Improved Selectable Text</title>
    <style type="text/css" media="screen">

    .active{
      color: red
    }

    .inactive{
      color: green
    }

    </style>
</head>

<body>

<p id="text">
    <span id="1">Lorem</span>
    <span id="2">ipsum</span>
    <span id="3">dolor</span>
</p>

<script>

function myOnClick(e) {
  if (e.srcElement.id === "text") {
    // TODO: fix mouse selection
    return;
  }

  if (e.srcElement.className === 'active'){
    console.log("Elem #"+e.srcElement.id+" inactive");
    e.srcElement.className = 'inactive';
  } else {
    console.log("Elem #"+e.srcElement.id+" active");
    e.srcElement.className = 'active';
  }
}

document.getElementById("text").addEventListener('click', myOnClick );

</script>
</body>
</html>
